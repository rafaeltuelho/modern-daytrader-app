-- Development data initialization script
-- This script is automatically executed in dev mode when using H2

-- Create key generation table
CREATE TABLE IF NOT EXISTS KEYGENEJB (
    KEYNAME VARCHAR(255) NOT NULL PRIMARY KEY,
    KEYVAL INTEGER NOT NULL
);

-- Initialize key generators
INSERT INTO KEYGENEJB (KEYNAME, KEYVAL) VALUES ('account', 1000);
INSERT INTO KEYGENEJB (KEYNAME, KEYVAL) VALUES ('holding', 1000);
INSERT INTO KEYGENEJB (KEYNAME, KEYVAL) VALUES ('order', 1000);

-- Insert sample quotes
INSERT INTO quoteejb (SYMBOL, COMPANYNAME, VOLUME, PRICE, OPEN1, LOW, HIGH, CHANGE1) 
VALUES ('IBM', 'International Business Machines', 1000000, 150.50, 149.00, 148.50, 151.00, 1.50);

INSERT INTO quoteejb (SYMBOL, COMPANYNAME, VOLUME, PRICE, OPEN1, LOW, HIGH, CHANGE1) 
VALUES ('AAPL', 'Apple Inc.', 2000000, 175.25, 174.00, 173.50, 176.00, 1.25);

INSERT INTO quoteejb (SYMBOL, COMPANYNAME, VOLUME, PRICE, OPEN1, LOW, HIGH, CHANGE1) 
VALUES ('MSFT', 'Microsoft Corporation', 1500000, 380.75, 379.00, 378.50, 382.00, 1.75);

INSERT INTO quoteejb (SYMBOL, COMPANYNAME, VOLUME, PRICE, OPEN1, LOW, HIGH, CHANGE1) 
VALUES ('GOOGL', 'Alphabet Inc.', 1200000, 140.50, 139.00, 138.50, 141.50, 1.50);

INSERT INTO quoteejb (SYMBOL, COMPANYNAME, VOLUME, PRICE, OPEN1, LOW, HIGH, CHANGE1) 
VALUES ('AMZN', 'Amazon.com Inc.', 1800000, 145.30, 144.00, 143.50, 146.00, 1.30);

-- Insert sample user profile
INSERT INTO accountprofileejb (USERID, PASSWD, FULLNAME, ADDRESS, EMAIL, CREDITCARD) 
VALUES ('user1', 'password1', 'John Doe', '123 Main St, New York, NY 10001', 'john.doe@example.com', '1234-5678-9012-3456');

INSERT INTO accountprofileejb (USERID, PASSWD, FULLNAME, ADDRESS, EMAIL, CREDITCARD) 
VALUES ('user2', 'password2', 'Jane Smith', '456 Oak Ave, San Francisco, CA 94102', 'jane.smith@example.com', '9876-5432-1098-7654');

-- Insert sample accounts
INSERT INTO accountejb (ACCOUNTID, LOGINCOUNT, LOGOUTCOUNT, LASTLOGIN, CREATIONDATE, BALANCE, OPENBALANCE, PROFILE_USERID) 
VALUES (1, 5, 4, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 100000.00, 100000.00, 'user1');

INSERT INTO accountejb (ACCOUNTID, LOGINCOUNT, LOGOUTCOUNT, LASTLOGIN, CREATIONDATE, BALANCE, OPENBALANCE, PROFILE_USERID) 
VALUES (2, 3, 2, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 50000.00, 50000.00, 'user2');

-- Insert sample holdings
INSERT INTO holdingejb (HOLDINGID, QUANTITY, PURCHASEPRICE, PURCHASEDATE, ACCOUNT_ACCOUNTID, QUOTE_SYMBOL) 
VALUES (1, 100, 145.00, CURRENT_TIMESTAMP, 1, 'IBM');

INSERT INTO holdingejb (HOLDINGID, QUANTITY, PURCHASEPRICE, PURCHASEDATE, ACCOUNT_ACCOUNTID, QUOTE_SYMBOL) 
VALUES (2, 50, 170.00, CURRENT_TIMESTAMP, 1, 'AAPL');

INSERT INTO holdingejb (HOLDINGID, QUANTITY, PURCHASEPRICE, PURCHASEDATE, ACCOUNT_ACCOUNTID, QUOTE_SYMBOL) 
VALUES (3, 75, 375.00, CURRENT_TIMESTAMP, 2, 'MSFT');

-- Insert sample orders
INSERT INTO orderejb (ORDERID, ORDERTYPE, ORDERSTATUS, OPENDATE, COMPLETIONDATE, QUANTITY, PRICE, ORDERFEE, ACCOUNT_ACCOUNTID, QUOTE_SYMBOL, HOLDING_HOLDINGID) 
VALUES (1, 'buy', 'completed', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 100, 145.00, 10.00, 1, 'IBM', 1);

INSERT INTO orderejb (ORDERID, ORDERTYPE, ORDERSTATUS, OPENDATE, COMPLETIONDATE, QUANTITY, PRICE, ORDERFEE, ACCOUNT_ACCOUNTID, QUOTE_SYMBOL, HOLDING_HOLDINGID) 
VALUES (2, 'buy', 'completed', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 50, 170.00, 10.00, 1, 'AAPL', 2);

INSERT INTO orderejb (ORDERID, ORDERTYPE, ORDERSTATUS, OPENDATE, COMPLETIONDATE, QUANTITY, PRICE, ORDERFEE, ACCOUNT_ACCOUNTID, QUOTE_SYMBOL, HOLDING_HOLDINGID) 
VALUES (3, 'buy', 'completed', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 75, 375.00, 10.00, 2, 'MSFT', 3);

